<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-react-helmet="true">boyer_moore | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://0xvoila.github.io/docs/ds-and-system/boyer_moore"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="boyer_moore | My Site"><meta data-react-helmet="true" name="description" content="Search a pattern in text of 10M characters in less than 2 seconds"><meta data-react-helmet="true" property="og:description" content="Search a pattern in text of 10M characters in less than 2 seconds"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://0xvoila.github.io/docs/ds-and-system/boyer_moore"><link data-react-helmet="true" rel="alternate" href="https://0xvoila.github.io/docs/ds-and-system/boyer_moore" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://0xvoila.github.io/docs/ds-and-system/boyer_moore" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.feb03a1a.css">
<link rel="preload" href="/assets/js/runtime~main.c4cc31fb.js" as="script">
<link rel="preload" href="/assets/js/main.663d3cf4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/ds-and-system/hashmap">ds-and-system</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ds-and-system/hashmap">Custom HashMap in Java</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/ds-and-system/boyer_moore">boyer_moore</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>boyer_moore</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="search-a-pattern-in-text-of-10m-characters-in-less-than-2-seconds">Search a pattern in text of 10M characters in less than 2 seconds<a class="hash-link" href="#search-a-pattern-in-text-of-10m-characters-in-less-than-2-seconds" title="Direct link to heading">â€‹</a></h2><p>String pattern match is one of the most prominent problem in computer science and has various applications like <code>plagarism</code>, <code>document search</code>, <code>DNA match</code> etc
One of the frequently, used algorithm for pattern search is <code>Boyer&#x27;s Moore Algorithm</code> which search for a pattern in a given string in BigO(n+m) time.</p><p>For pattern search using <code>Boyer&#x27;s Moore Algorithm</code>, it is two phase process.</p><ol><li>First, we need to preprocess the pattern </li><li>Implementing the <code>Boyer&#x27;s Moore Algorithm</code> and use the preprocessed pattern above for alignment. </li></ol><p>Today, I will briefly explain the Boyer&#x27;s Moore Algorithm and discuss more about the different ways ( two ways ) of <code>pre processing</code> the pattern, which impacts how many characters we can skip while finding the pattern.</p><p>Brief of Boyer&#x27;s Moore Algorithm
Suppose we have a string <code>GCAATGCCTATGTGACC</code> and the pattern to search is <code>TATGTG</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="pattern-search-by-naive-algorithm-big-on2">Pattern search by Naive algorithm Big O(n^2)<a class="hash-link" href="#pattern-search-by-naive-algorithm-big-on2" title="Direct link to heading">â€‹</a></h3><p>If someone ask us to search a pattern in the string then we usually go via <code>naive</code> algorithm wherein we place the pattern at the beginning of the string and try to match all characters from left to right
like below.</p><p><img alt="img_3.png" src="/assets/images/img_3-db84820d2f51817344b246fe657d2d2f.png" width="901" height="125"></p><p>If it does not match, we slide the pattern one more character and then try to match like below.
<img alt="img_4.png" src="/assets/images/img_4-2ee223c0dff7cbbaea4cee1a87393523.png" width="892" height="137"></p><p>We keep on doing that until, we found the pattern in the string or string is search completely and pattern is not found.
<img alt="img_5.png" src="/assets/images/img_5-4ffce8afcfb9219f40518298d53235e6.png" width="887" height="139"></p><p>The time complexity of <code>naive</code> algorithm is <code>Big O( n^2)</code> and search for a pattern may takes upto days if a string is of millions of characters usually in the case of DNA sequence matching ( 3 Billion characters matched usually ) or detecting the plagrism in thousands of thousands docs.  </p><p>Here comes the optimised algorithms like <code>Boyer&#x27;s Moore algorithm</code>, <code>Rabin Karp Algorithm</code>, <code>Knuth Algorithm</code> etc. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="understanding-the-boyers-moore-algorithm">Understanding the Boyer&#x27;s Moore algorithm<a class="hash-link" href="#understanding-the-boyers-moore-algorithm" title="Direct link to heading">â€‹</a></h3><p>There are two important steps of pattern matching with Boyer&#x27;s Moore algorithm</p><ol><li>Pattern will be matched from right to left, instead of left to right like in <code>naive</code> algorithm</li><li>Algorithm try to align the pattern in the string as much as possible unlike <code>naive</code> algorithm where it just keep on moving on character by character<ol><li>While matching from right to left, when we encounter the character which is <code>bad character</code> then <ol><li>Check if <code>bad character</code> exists in the pattern, if yes then shift the pattern toward right to align  </li></ol></li></ol></li></ol><p>Lets see how Boyer&#x27;s Moore algorithm works </p><p>First we place the pattern at the beginning string and starts matching character by character from <code>right to left</code>. If all characters are matched then it is matched otherwise as you can see in the below screenshot, we will stop when we will found the character which does not matched i.e <code>A</code>.<br>
<img alt="img_6.png" src="/assets/images/img_6-44974797883c1b8df80e879cea8781e8.png" width="916" height="139">
Once we found the unmatched character <code>A</code> then we will try to find the unmatched character i.e. <code>A</code> in the pattern. If found then we will try to align the pattern accordingly. Thus, we skipped the <code>1 byte</code> </p><p>Check the below screenshot, as we have aligned the pattern with the unmatched character.
Once the pattern is aligned, we compare the characters from <code>right to left</code> again. As we start comparing character <code>C</code> is the unmatched character. </p><p><img alt="img_7.png" src="/assets/images/img_7-7ac034ef1fb4f30d6dc3ba6f82b13c07.png" width="912" height="140"></p><p>Now, we check if the unmatched character i.e <code>C</code> is present in the string from <code>right to left</code> in the pattern. As we can see it is not present in the string, so we will aligned the pattern past bad character i.e past <code>C</code>
Hence, here we have skipped <code>5 bytes</code>.
Once the pattern is aligned, we again perform the comparison character by character. This time, we found the pattern. Check in below screenshot. </p><p><img alt="img_8.png" src="/assets/images/img_8-5ecadc11a4eb00dd6bff5ffc8d618634.png" width="892" height="143"></p><p>Hence, you can see, we are keep moving forward in the string to find the matched pattern. Hence, the pattern match algorithm is of ~ BigO(n) where n is the length of the string. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="boyers-analysis">Boyer&#x27;s Analysis<a class="hash-link" href="#boyers-analysis" title="Direct link to heading">â€‹</a></h3><p>If you have noticed, then whenever there is a mismatched, then we have to check if the mismatched character does present in the string or not.
To find that character we are traversing the pattern backwards i.e.  <code>right to left</code> and from the position of the pattern where first mismatched has occured. This steps increase the complexity as we have to traverse all the way backward until
that particular mismatched character is found or pattern is emptied, which makes the complexity of BigO(m) where <code>m</code> is the length of the pattern.<br>
<!-- -->There are many ways, you can optimised the above step so that we do not have to traverse the whole pattern backward and somehow we can find whether that bad character is present in the pattern or not and if present then at what position it is present. </p><p>Here, I will provide two implementations </p><ol><li>The first one, which is common and found on many academic websites, lets say it &quot;array based pattern preprocessing&quot;</li><li>The another one, which is found by me while optimising the algo further. Obviously, it might be already discovered somewhere by someone. Lets say it &quot;hashmap based pattern preprocessing&quot;</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="array-based-pattern-preprocessing">Array based pattern preprocessing<a class="hash-link" href="#array-based-pattern-preprocessing" title="Direct link to heading">â€‹</a></h4><p>Lets assume we have a pattern <code>AABCD</code>, then one of the way is like this</p><ol><li>Create the array of 256 char length say <code>badChar[256]</code> and initialize it with <code>-1</code>. </li><li>Traverse the pattern from left to right and at the ASCII position of a char write its position in the pattern like <code>badChar[int(pattern[i])] = i</code></li></ol><p>So basically, <code>badChar</code> array would be like this   </p><p><img alt="img_9.png" src="/assets/images/img_9-9371f0f1139064c59a68a833f66f3ab2.png" width="873" height="116"></p><p>Here, if you noticed then you will find that at index <code>65</code>, we have written the position of right most <code>A</code>.
Why is it so ? Consider the below use case</p><p><img alt="img_10.png" src="/assets/images/img_10-02084960dc410fd7d58645e6f17af13a.png" width="891" height="226"></p><p>Now, using the <code>badChar</code> array, we can directly check if <code>badChar[int(A)] == -1</code> then we can directly skip the whole pattern.
Otherwise, if it is not <code>-1</code> then the pattern need to be shift right by <code>j - badChar[int(A)]</code> bytes. </p><p>However, now consider the following case where we might face the issue or wrong number of shifts.
Consider this pattern <code>AABCDA</code>, create the <code>badChar</code> array out of this</p><p><img alt="img_11.png" src="/assets/images/img_11-eeb08c89be290a04b8571d2a0bdc12d6.png" width="900" height="118"></p><p>and consider this with matching the pattern </p><p><img alt="img_12.png" src="/assets/images/img_12-e4c12423855526cc2e049d94b3b104f8.png" width="894" height="205"></p><p>Here, we have got the bad character <code>A</code> so </p><ol><li>First we will check if it even exists in the pattern or not, it can be done by <code>badChar[int(A)]</code>. </li><li>As value is not -1, we need to determine the position of right most &#x27;A&#x27; after the position of <code>j</code>. We wont be able to do it as while preprocessing we capture the right most <code>A</code> i.e at <code>j = 5</code>.
Hence, algorithm will do the just one right shift, however if we see, ideally the shift should be of <code>two</code> bytes. </li></ol><p>To circumvent this issue, we can do the preprocessing in the below way.    </p><h4 class="anchor anchorWithStickyNavbar_mojV" id="hashmap-based-pattern-preprocessing">Hashmap based pattern preprocessing<a class="hash-link" href="#hashmap-based-pattern-preprocessing" title="Direct link to heading">â€‹</a></h4><p>In this method of preprocessing, we create the hashmap of characters in the pattern and the values would be the values at which all positions this particular char exists in the patter.
Say we have a pattern <code>AXBCDA</code> then we will create the hashamp like this </p><div class="codeBlockContainer_I0IT language-commandline theme-code-block"><div class="codeBlockContent_wNvx commandline"><pre tabindex="0" class="prism-code language-commandline codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">A ---&gt; [5, 0] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X ---&gt; [1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B ---&gt; [2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C ---&gt; [3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D ---&gt; [4]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now consider the above scenario where it was failing when we used the <code>array based preprocessing pattern</code>.</p><p><img alt="img_12.png" src="/assets/images/img_12-e4c12423855526cc2e049d94b3b104f8.png" width="894" height="205"></p><p>Here, we have got the bad character <code>A</code> so </p><ol><li>First we will check if it even exists in the pattern or not, it can be done by <code>badChar.get(&quot;A&quot;)</code>. </li><li>As value is not null, we need to determine the position of right most &#x27;A&#x27; after the position of <code>j</code>. we can simply do it by traversing the value of key <code>A</code> and we need to traverse until we find the first value less than the value of <code>j</code> and done. </li></ol><p>By this method, for value of <code>j = 2</code>, we will get <code>A</code> at position <code>0</code>, hence shift would be <code>j - 0 = 2</code> instead of <code>1</code> that we were getting in the above method. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="caveats-of-the-hashmap-preprocessing">Caveats of the hashmap preprocessing<a class="hash-link" href="#caveats-of-the-hashmap-preprocessing" title="Direct link to heading">â€‹</a></h3><ol><li>Use this preprocessing when pattern consist of varied number of characters like <code>text search</code>. </li><li>This preprocessing does not suit when pattern is consist of small number of characters like <code>DNA sequence</code> because it will make the value array too long and search within it would be of <code>BigO(m)</code> where m is the number of times a character <code>x</code> appear in pattern <code>p</code>. </li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="performance-analysis">Performance Analysis<a class="hash-link" href="#performance-analysis" title="Direct link to heading">â€‹</a></h3><p>For performance analysis, I use jprofiler. </p><p><img alt="img_13.png" src="/assets/images/img_13-7f154104315b577a46601c89781a2822.png" width="1088" height="596"></p><table><thead><tr><th>Test</th><th>String length</th><th>Pattern length</th><th>Time taken</th></tr></thead><tbody><tr><td>1</td><td>10M characters</td><td>10000 characters</td><td>1.8ms</td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><div class="codeBlockContainer_I0IT language-java theme-code-block"><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">package com.amit.ds.string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.*;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class BM{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static void main(String args[]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      Random characters can be generated from here https://onlinerandomtools.com/generate-random-string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String inputString = &quot;&lt;ENTER_YOUR_10MB_Characters here&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String patternString = &quot;xkbhntksfl&quot;;        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int j = patternString.length() - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int i = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int index = i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HashMap&lt;Character, ArrayList&lt;Integer&gt;&gt; badChar = new HashMap&lt;Character, ArrayList&lt;Integer&gt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        createBadCharArray(patternString, badChar);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int totalShift = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int totalLoop = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while( i &lt; inputString.length()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            totalLoop = totalLoop + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ( i &lt; ( patternString.length() - 1)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                i= i + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                index = i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if ( inputString.charAt(index) != patternString.charAt(j)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Character badCharacter = inputString.charAt(index);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(badChar.get(badCharacter) == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    totalShift = totalShift + j + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    i = i + j + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ArrayList&lt;Integer&gt; xArrayList = badChar.get(badCharacter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Iterator&lt;Integer&gt; iterator = xArrayList.iterator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int shift = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    while(iterator.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        int k = iterator.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        if (  k &lt; j ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            shift = k;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    totalShift =  j - shift ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (totalShift == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        i= i + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        i  = i + (j - shift );  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                index = i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                j = patternString.length() - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if(inputString.charAt(index) == patternString.charAt(j)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                index = index - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                j= j- 1; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if ( j &lt; 0 ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.println(&quot;Pattern match found at index&quot;  + (i - patternString.length() + 1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    j = patternString.length() - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    i = i + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    index = i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static HashMap&lt;Character, ArrayList&lt;Integer&gt;&gt; createBadCharArray(String pattern, HashMap&lt;Character, ArrayList&lt;Integer&gt;&gt; badCharMap) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for ( int i=0; i&lt; pattern.length(); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ArrayList&lt;Integer&gt; xArrayList = badCharMap.get(pattern.charAt(i));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if( xArrayList == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                xArrayList =  new ArrayList&lt;Integer&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                xArrayList.add(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                badCharMap.put(pattern.charAt(i), xArrayList);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                xArrayList.add(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                badCharMap.get(pattern.charAt(i));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return badCharMap;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  public static int computeShift(String shiftPattern, String matchedPattern,  char badChar) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      int shift =  0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      for (int i=shiftPattern.length() -  1; i &gt;= 0; i--) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//          if (shiftPattern.charAt(i) == badChar) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//              shift = shift + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//              break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//          else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//              shift = shift + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      if ( shift == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//          shift = shiftPattern.length();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      return shift + matchedPattern.length();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ds-and-system/boyer_moore.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ds-and-system/hashmap"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Custom HashMap in Java</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#search-a-pattern-in-text-of-10m-characters-in-less-than-2-seconds" class="table-of-contents__link toc-highlight">Search a pattern in text of 10M characters in less than 2 seconds</a><ul><li><a href="#pattern-search-by-naive-algorithm-big-on2" class="table-of-contents__link toc-highlight">Pattern search by Naive algorithm Big O(n^2)</a></li><li><a href="#understanding-the-boyers-moore-algorithm" class="table-of-contents__link toc-highlight">Understanding the Boyer&#39;s Moore algorithm</a></li><li><a href="#boyers-analysis" class="table-of-contents__link toc-highlight">Boyer&#39;s Analysis</a></li><li><a href="#caveats-of-the-hashmap-preprocessing" class="table-of-contents__link toc-highlight">Caveats of the hashmap preprocessing</a></li><li><a href="#performance-analysis" class="table-of-contents__link toc-highlight">Performance Analysis</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c4cc31fb.js"></script>
<script src="/assets/js/main.663d3cf4.js"></script>
</body>
</html>